⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣽⣿⣿⣿⣿⣻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣟⣯⣿⣿⣿⡿⣟⡿⣿⣯⡿⣿⣿⣿⣿⣿⢿⣿⣿⣿⣿⣿⣷⣿⣿⡿⣟⣿⣿⣷⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣯⡷⣟⣯⣿⣽⢿⣿⣻⢾⣯⣿⣿⣿⣿⣾⣟⣿⣿⣿⣿⣿⢿⣯⣿⡿⣟⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣽⣿⣟⣯⣿⣽⡿⣿⡻⣗⣿⢿⣻⣟⣿⡿⣯⡯⡿⣽⣽⣻⣾⣿⣿⡿⣿⣿⣟⣿⣿⢿⣯⣿⣾⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣿⣿⣻⣽⣿⣽⣿⣽⣾⢿⣫⣿⣿⣿⡿⣿⣯⣿⣿⣿⡿⣽⣺⣾⣾⣯⣿⣿⣿⣿⣯⣷⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣟⣽⣯⡿⣿⢾⣿⣞⣾⣟⣿⣿⣿⣿⣯⣾⣿⣿⢿⣯⣿⣟⣿⣻⣷⣻⣿⣷⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⢿⣟⣷⣟⣿⣟⣿⣯⣾⣟⣾⣿⣯⣿⣵⡿⣿⢿⣿⣿⣿⣿⣯⡿⣿⣿⣗⣿⡿⣿⣻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⡽⣷⣿⣽⣟⣾⢿⢽⣷⣻⣽⣾⣵⣿⣾⣽⣿⣿⣿⣿⣿⣿⢿⣟⣿⣟⣿⣺⡿⣟⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⡿⣯⣷⡿⣾⢾⢯⣟⣿⣗⣿⣾⠿⠿⣟⣿⢾⣿⣿⢾⣿⣾⣟⣯⣟⣿⣻⣿⣺⡿⣽⣳⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣻⡾⣿⣻⣿⣻⢮⣷⡿⢡⢆⠢⣒⣴⣝⣯⣷⣿⢿⣿⣽⢾⣻⣟⣿⣟⣯⢷⣿⣳⡽⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⢷⣻⣽⣟⣾⣳⣽⣕⣷⣇⣟⢔⠅⡝⣿⣿⣟⣾⣽⢿⣻⣾⣿⣯⣿⣯⣿⣽⣽⣿⣺⢽⣻⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣯⡿⣯⣿⣯⣿⣳⢽⣾⡳⣷⣻⣾⢿⣵⣷⣱⣿⣿⣿⣞⣿⣻⣿⣻⡾⣹⣾⢿⣞⣗⣿⢵⢯⣟⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣾⣿⢽⣷⢿⣾⣻⣺⢾⣝⡞⢿⣺⣿⢷⣿⣻⣿⣿⣻⣷⣿⣿⣽⣯⣳⣯⣿⢿⡼⡽⡧⡿⣝⣾⡽⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣻⣷⢿⣿⣻⣿⡧⣿⢯⣿⡽⣫⣟⣿⣟⣿⣿⣻⣻⣿⡿⣟⣯⣿⣾⢿⣽⢮⣗⣽⢝⣗⡯⣟⡷⣿⣽⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣷⡯⣟⣿⣯⣻⣿⢽⡿⣷⡟⣿⣺⢮⡻⣿⣟⣿⣿⣟⣿⣿⣿⣿⣻⣿⢷⣻⣺⢾⣫⣿⣽⣺⡿⣯⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣷⣽⣫⢿⣻⢾⣻⣽⢵⣿⡽⢼⡷⣯⢿⣯⣿⣿⡻⣽⣾⢽⣻⢽⣾⣿⢽⣺⣯⡷⡽⣽⢿⣾⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢿⣟⣽⣷⣻⢾⣻⣮⡷⣎⣟⡿⣺⣽⣞⣽⣺⣟⣯⡫⣺⢯⣯⣳⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢿⡻⢿⡿⣿⣿⣿⣿⣿⣿⣳⢷⣻⢮⣞⢿⣷⣟⣿⣻⣿⡾⣾⣺⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢏⢗⡜⡬⡻⣾⢿⣿⣿⣿⣿⣿⣿⡽⣯⣿⣯⣿⣿⣿⣿⣞⡎⡷⣿⢽⣝⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡧⣫⡣⡫⣚⡎⢞⢯⣿⣿⣿⣿⣿⣿⣿⣯⢿⣻⣽⣿⣿⣿⣿⡿⡔⣻⣽⡽⣯⡿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿


# Arona Flutter App

The bright, cheerful twin, serving as the frontline interface to the outside world.
Under Rem-san’s guidance, Arona shines on the surface, interacting with users and spreading light—doing all the things Plana quietly avoids—while keeping the system’s interface alive and vibrant.

> **Note**: For complete development guide and workspace setup, see the [main README](../README.md) at the root of the repository.

## Quick Start

### Using Melos (Recommended)

From the workspace root:

```bash
# Setup environment
cp app/.envied.example app/.envied
# Edit app/.envied with your configuration

# Run code generation
melos build:runner

# Start Flutter app
melos arona
```

### Running Directly

```bash
# From app directory
flutter pub get
flutter run
```

## Environment Configuration

### Using Envied (Obfuscated)

Environment variables are managed using `envied` for security:

1. Copy `.envied.example` to `.envied`:
```bash
cp .envied.example .envied
```

2. Update values in `.envied`:
```
# For Android Emulator (auto-detected)
API_BASE_URL_EMULATOR=http://10.0.2.2:8080

# For Android Physical Device (auto-detected)
# Find your LAN IP first:
# - Windows: ipconfig
# - Mac: ifconfig | grep 'inet ' | grep -v 127.0.0.1
# - Linux: ip addr show | grep 'inet ' | grep -v 127.0.0.1
API_BASE_URL_PHYSICAL=http://192.168.1.100:8080

# For iOS Simulator
API_BASE_URL_IOS=http://localhost:8080

# For Web/Desktop
API_BASE_URL_WEB=http://localhost:8080
```

**Note**: The app automatically detects whether you're running on:
- Android Emulator → uses `API_BASE_URL_EMULATOR` (10.0.2.2)
- Android Physical Device → uses `API_BASE_URL_PHYSICAL` (your LAN IP)
- iOS Simulator → uses `API_BASE_URL_IOS` (localhost)
- Web/Desktop → uses `API_BASE_URL_WEB` (localhost)

3. Run build_runner to generate obfuscated env.g.dart:
```bash
# From workspace root (recommended)
melos build:runner

# Or directly in app
dart run build_runner build --delete-conflicting-outputs
```

## Architecture

### State Management
- **GetX** - Lightweight state management & routing
- Modular structure with separate controllers, services, and repositories

### Key Directories
- `lib/controllers/` - GetX controllers for state management
- `lib/services/` - API services and business logic
- `lib/models/` - Data models and DTOs
- `lib/routes/` - Navigation routing configuration
- `lib/helpers/` - Utility functions (secure storage, etc.)

## Development

### Code Generation

When you update `.envied` (environment variables):

```bash
# From workspace root (recommended)
melos build:runner

# Or directly in app
dart run build_runner build --delete-conflicting-outputs
```

### Hot Reload

Flutter supports hot reload out of the box:
```bash
flutter run
```

### Build for Production

```bash
# Build APK
flutter build apk

# Build iOS
flutter build ios

# Build web (if supported)
flutter build web
```

## Testing

```bash
# Run all tests
flutter test

# Run specific test
flutter test test/controllers/auth_controller_test.dart
```

## Dependencies

### Core Framework
- `flutter` - Flutter SDK
- `get` - GetX state management & routing

### Network & API
- `dio` - HTTP client with interceptors
- `retrofit` - Type-safe HTTP client

### Storage & Security
- `flutter_secure_storage` - Encrypted storage (Keychain/EncryptedSharedPreferences)
- `local_auth` - Biometric authentication

### UI Components
- `skeletonizer` - Loading states
- `cached_network_image` - Image caching
- `flutter_easyloading` - Loading indicators
- `flutter_svg` - SVG support

### Utilities
- `intl` & `jiffy` - Date/time formatting & localization
- `envied` - Type-safe environment variables
- `json_annotation` - JSON serialization

## Common Issues

### Gradle Issues

If you run into Gradle issues during build or run:

```bash
cd android
./gradlew clean
cd ..
flutter clean
flutter pub get
```

### Environment Variables

Make sure to run `melos build:runner` after updating `.envied` file to regenerate the obfuscated environment class.

### Build Runner

If code generation fails:

```bash
# Clean and rebuild
dart run build_runner clean
dart run build_runner build --delete-conflicting-outputs
```

## Tech Stack

- **Framework**: Flutter
- **State Management**: GetX
- **Architecture**: Clean Architecture with MVVM pattern
- **HTTP Client**: Dio with Retrofit
- **Storage**: Flutter Secure Storage
- **Authentication**: Biometric + JWT token
- **Environment**: envied (obfuscated environment variables)
- **Serialization**: json_annotation & json_serializable

## More Information

For complete workspace documentation, monorepo structure, and full list of available commands, see the [main README](../README.md).