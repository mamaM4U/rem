⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣻⣿⣟⣿⣿⣻⣿⣻⣿⣟⣿⣿⡿⣿⣽⢿⣽⡻⠻⠛⠻⠻⣛⣿⣽⢯⣿⣿⡿⣿⣿⢿⣟⣿⣿⣻⣿⣻⣿⣟⣿⣿⣻⣿⣻⣿
⣿⣿⣿⣾⣿⣿⡿⣿⡿⣿⣿⢿⣿⡿⣿⠟⢛⢙⡽⣾⢻⣺⣳⣳⢽⢯⣟⢾⢽⣺⡻⣻⢿⣿⣿⣿⣿⣿⣿⢿⣿⢿⣿⡿⣿⡿⣿⣿⢿⣿
⣿⣿⣯⣿⣿⣷⣿⣿⣿⣿⣯⡾⣯⣿⣋⢬⢮⢯⣻⣺⢽⣺⣺⣺⣹⡳⡯⣯⡻⡮⡗⣦⢄⣝⣷⣧⣻⣷⣿⣿⣿⣿⣿⡿⣿⣿⣿⣿⢿⣿
⣿⣿⣿⣽⣷⣿⣿⣯⣿⣯⣿⡻⢹⣺⢝⡽⣝⣗⡗⣽⢽⣺⣺⡺⣮⡫⣟⢮⡏⡇⡟⡞⡽⡮⣳⣫⣹⡭⣿⣿⣽⣿⣷⣿⣿⣿⣷⣿⣿⣿
⣿⣿⣟⣿⣿⣻⣷⣿⣿⡿⡁⣢⣳⢽⣝⣎⣗⢷⢽⣺⣳⣳⣳⡻⣺⣪⣺⡪⡬⣖⢮⣞⣞⡽⡵⡢⢯⢇⣿⠿⣻⣟⣿⣿⣻⣽⣾⣿⣿⣻
⣿⣿⣿⡿⣟⣿⣿⢽⣯⡷⢮⡳⣕⢯⢞⣞⢮⣻⢸⣺⡪⣞⢮⣞⢵⡳⣳⣭⢯⣺⣚⢮⢺⣺⢭⢝⢜⢖⣫⣿⢼⣿⣿⢿⣿⣿⣿⣿⣽⣿
⣿⣿⣽⣿⣿⣿⣿⣿⣾⢝⣗⢽⢵⡹⡵⣳⢽⣪⢳⣳⣝⣗⢽⡪⣗⣹⢺⣝⣺⣺⡪⣏⢗⡽⡕⡽⡑⡡⣩⣛⣺⣿⣿⣿⡿⣿⣾⣿⡿⣿
⣿⣿⣿⢿⣻⣿⣷⣿⣏⢗⣗⢽⣕⢯⢯⡺⡵⣳⣱⣳⡳⣕⢯⣫⢞⡼⣺⣯⢿⣳⣟⣎⡪⣯⡺⣔⢭⢎⡚⣧⣻⣿⣿⣾⣿⣿⣿⣯⣿⣿
⣿⣿⣿⣿⣿⣿⣯⣿⡷⣝⢮⣳⢳⣹⡪⡯⣫⢞⡮⡺⡮⡯⣳⢽⣕⣟⠮⢛⠈⣍⢜⢽⣺⢺⡊⢔⢳⢕⢇⢧⣿⣿⣿⣽⣿⣿⣽⣿⣿⣿
⣿⣿⣿⣾⣿⣷⣿⣿⣗⢽⢕⢗⡽⣚⢮⣳⢝⡷⡭⣏⢯⢯⣳⢯⣞⢮⢳⡇⡂⢦⢸⡺⡮⡧⣷⡻⡵⣕⠧⡝⣿⣷⣿⡿⣿⣾⣿⡿⣷⣿
⣿⣿⣿⣾⣿⣯⣿⣿⣿⡹⣝⡕⣯⡳⡽⣺⣕⢯⣟⣞⡽⣽⣺⢽⡺⡎⣿⣳⣽⡮⣞⢷⣫⢽⢮⡺⡯⣺⣕⡯⣿⣿⣽⣿⣿⣿⣻⣿⣿⣿
⣿⣿⣯⣿⣯⣿⣿⣷⣿⡟⣮⡺⣕⣟⢾⢵⣫⣗⢷⣳⢽⣺⢾⣽⢽⣽⢿⣽⢾⣻⡽⡯⣾⣹⡵⡞⡹⣪⢣⡗⣿⣿⣿⣻⣯⣿⣿⡿⣯⣿
⣿⣿⣟⣿⣟⣿⣷⣿⣿⣷⡵⢝⡮⡮⡻⣮⣳⢯⣟⣾⣻⣽⣟⣾⣻⢾⣻⣾⣻⡽⣯⣟⡷⠏⢏⢂⣪⣿⢲⣏⣿⣯⣿⣿⡿⣿⣟⣿⣿⣿
⣿⣿⣿⢿⣿⣟⣿⣯⣷⣿⣿⣗⢵⠹⢕⡗⣯⡿⣞⣯⢿⣺⣷⣻⡽⣿⢽⣞⣷⣟⣿⡺⠣⢡⣍⣴⣿⡧⣽⡧⣿⣿⣻⣿⡿⣿⣿⢿⣿⣻
⣿⣿⣾⣿⣿⡿⣿⡿⣿⣿⣻⣿⣿⣕⣅⠪⠨⠻⢽⡯⣿⡽⣾⣳⡿⣽⡯⣿⣺⢗⠫⢨⣬⡾⣿⣿⣿⢬⣿⢰⣿⣿⢿⣿⡿⣿⣿⢿⣿⣿
⣿⣿⣿⣻⣿⢿⣿⣿⣿⡿⣿⣿⣾⣿⣿⣮⣼⣬⣦⣊⣝⡝⡻⣺⢻⣗⢿⢫⢳⢸⢾⢿⣿⣿⣿⣷⡯⣼⣿⣹⣿⣽⣿⣿⡿⣿⣿⣿⣿⢿
⣿⣿⣻⣿⣿⣿⣿⣷⡿⡿⣟⣿⣾⣿⣷⣿⣿⣿⣿⣞⣯⢿⢜⣎⢧⢳⡱⡝⣼⢿⣽⣻⣿⣷⣿⣷⣶⣿⡿⡿⣟⡿⡿⣯⣿⣿⣿⣾⣿⣿
⣿⣿⣿⡿⣷⣿⡿⣷⣻⣟⡿⣞⣷⢝⡯⣿⣷⣿⣿⢞⣽⢿⣽⢾⣳⢕⣾⣻⣟⣿⣚⢿⣿⣾⣿⣯⠿⣻⣞⣯⣾⣻⣽⣿⣿⣿⣯⣿⣿⣽
⣿⣿⣷⣿⣿⣿⣿⣿⡽⣾⣻⣯⣟⣧⣿⣻⡽⣯⣟⣯⣷⢿⣽⡻⡽⡯⡷⣿⣺⣷⣻⣽⢾⣳⢽⡾⣏⣿⡽⣷⣻⣽⢾⣟⣿⣾⣿⣟⣿⣿
⣿⣿⣟⣿⣿⣽⣿⣽⣿⢽⣾⣳⣯⡷⣞⣷⢟⣿⣺⣟⡾⠋⣠⡶⠀⡄⢬⣍⠓⢯⣷⣟⣿⣝⣯⢟⣽⢷⣟⣯⡿⣺⣿⣿⣿⡿⣟⣿⣿⣻
⣿⣿⣿⣻⣿⣻⣿⣟⣿⣿⣺⣽⣾⣻⣾⣽⣶⣟⣷⣻⣀⣾⣛⣀⣺⣇⣀⣻⣽⣦⣱⣿⣞⣞⣾⣻⣽⣯⣻⣪⣾⣿⣿⣿⣽⣿⣿⣿⣿⣿
⣿⣿⣟⣿⣿⢿⣿⣟⣿⣿⢿⣿⢿⣿⣟⣿⣟⣿⣿⢿⣿⣿⣿⣿⣿⣿⢿⣿⣿⣿⢿⣻⣿⢿⣿⢿⣿⣟⣿⣿⣿⣿⣽⣾⣿⣿⣿⣽⣾⣿


# Rem Workspace

A monorepo forged with Melos, created to unite and orchestrate its two code-born twins: Arona (Flutter) and Plana (Dart Frog). Under Rem’s structure, both modules work in sync toward a single purpose.

## Project Structure

```
rem/
├── app/              # Flutter application (arona)
├── api_server/       # Dart Frog API server (plana)
├── packages/
│   └── shared/       # Shared code between app and server
└── pubspec.yaml      # Workspace configuration
```

## Requirements

- Dart SDK: ^3.5.0
- Flutter SDK
- Melos: ^7.3.0
- PostgreSQL (for database)

## Setup

1. Install Melos globally:
```bash
dart pub global activate melos
```

2. Bootstrap workspace:
```bash
melos bootstrap
```

3. Setup environment variables:
```bash
# In app/
cp .envied.example .envied
# Edit .envied with your configuration

# In api_server/
cp .env.example .env
# Edit .env with your configuration
```

## Development

### Quick Start

1. Start Plana with database:
```bash
melos plana:docker:up
```

1. Run Plana only:
```bash
melos plana
```

1. Run Flutter app (in separate terminal):
```bash
melos arona
```

## Melos Commands

### Application
- `melos arona` - Run Flutter app (arona)
- `melos plana` - Run Dart Frog server (plana)

### Docker (Plana With Database)
- `melos plana:docker:up` - Start containers
- `melos plana:docker:down` - Stop and remove containers
- `melos plana:docker:logs` - View container logs (follow mode)
- `melos plana:docker:restart` - Restart containers

### Dependencies
- `melos bootstrap` - Initialize workspace and get all dependencies
- `melos get` - Get dependencies for all packages

### Code Quality
- `melos analyze` - Run dart analyze in all packages
- `melos format` - Format all Dart files
- `melos test` - Run tests in all packages

### Build & Generation
- `melos build:runner` - Run build_runner for code generation (envied, json_serializable)
- `melos clean` - Clean all Flutter packages

### Typical Development Workflow

```bash
# Initial setup
melos bootstrap

# Start development
melos plana:docker:up      # Start database
melos plana                # Start API server (terminal 1)
melos arona                # Start Flutter app (terminal 2)

# View logs
melos plana:docker:logs    # View database logs

# Cleanup
melos plana:docker:down    # Stop database
```

## Tech Stack

### App (arona)

**State Management & Navigation:**
- GetX - Lightweight state management & routing

**Network & API:**
- Dio - HTTP client with interceptors

**Storage & Security:**
- flutter_secure_storage - Encrypted storage (Keychain/EncryptedSharedPreferences)
- local_auth - Biometric authentication

**UI Components:**
- Skeletonizer & Shimmer - Loading states
- Cached Network Image - Image caching
- EasyLoading - Loading indicators
- Flutter SVG - SVG support

**Utilities:**
- intl & jiffy - Date/time formatting & localization
- envied - Type-safe environment variables
- json_annotation & json_serializable - JSON serialization

### API Server (plana)

**Framework:**
- Dart Frog - Fast & minimalist API framework

**Authentication & Security:**
- bcrypt - Password hashing
- dart_jsonwebtoken - JWT authentication
- uuid - Unique ID generation

**Database:**
- postgres - PostgreSQL client

**Validation & Utilities:**
- validators2 - Email, URL, phone validation
- decimal - Precise decimal arithmetic (for money/currency)
- intl - Internationalization & formatting
- logging - Structured logging

**HTTP & Integration:**
- dio - HTTP client for external API calls

**Config & Environment:**
- envied - Type-safe environment variables

**Serialization:**
- json_annotation & json_serializable - JSON serialization

### Shared Package

Contains shared code between app and server:
- Constants
- Models/DTOs
- Utilities

## Best Practices

### Secure Storage
```dart
import 'package:arona/helpers/secure_storage.dart';

// Write
await secureStorage.write('auth_token', token);

// Read
final token = await secureStorage.read('auth_token');

// Clear all
await secureStorage.clearAll();
```

### Environment Variables
```dart
// Use envied for type-safe env vars
@Envied(path: '.env')
abstract class Env {
  @EnviedField(varName: 'API_URL', obfuscate: true)
  static String apiUrl = _Env.apiUrl;
}
```

### Money Handling
```dart
import 'package:decimal/decimal.dart';

// Always use Decimal for money
Decimal price = Decimal.parse('99.99');
Decimal total = price * Decimal.fromInt(quantity);
```

### Validation
```dart
import 'package:validators2/validators2.dart';

if (!isEmail(email)) {
  throw Exception('Invalid email');
}
```

## Git Workflow

```bash
# Create feature branch
git checkout -b feature/feature-name

# Commit changes
git add .
git commit -m "feat: feature description"

# Push & create PR
git push origin feature/feature-name
```

## License

Private project
